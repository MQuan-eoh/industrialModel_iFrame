<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Dash board</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.1.1/dist/svg.min.js"></script>
    <link rel="stylesheet" href="assets/styles.css" />
  </head>
  <body>
    <button class="fullscreen-btn" id="fullscreenBtn" title="Toggle Fullscreen">
      <i class="fas fa-expand" id="fullscreenIcon"></i>
    </button>
    <button class="sidebar-toggle" id="sidebarToggle">
      <i class="fas fa-bars"></i>
    </button>
    <div class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <i class="fas fa-industry"></i>
        </div>
      </div>

      <ul class="sidebar-menu">
        <li>
          <a href="#" id="dashboardLink" class="active">
            <i class="fas fa-tachometer-alt"></i>
            <span class="menu-text">Dashboard</span>
          </a>
        </li>
        <li>
          <a href="#" id="pumpLink">
            <i class="fas fa-pump-soap"></i>
            <span class="menu-text">Máy Bơm</span>
          </a>
        </li>
        <li>
          <a href="#" id="waterTreatmentLink">
            <i class="fas fa-water"></i>
            <span class="menu-text">Trạm Xử Lý</span>
          </a>
        </li>
        <li>
          <a href="#" id="filterLink">
            <i class="fas fa-filter"></i>
            <span class="menu-text">Máy Lọc</span>
          </a>
        </li>
        <li>
          <a href="#" id="valveLink">
            <i class="fas fa-gauge"></i>
            <span class="menu-text">Van Xả</span>
          </a>
        </li>
        <li>
          <a href="#" id="factoryModelLink">
            <i class="fas fa-industry"></i>
            <span class="menu-text">Mô Hình Nhà Máy</span>
          </a>
        </li>
        <li>
          <a href="#" id="analyticsLink">
            <i class="fas fa-chart-line"></i>
            <span class="menu-text">Phân Tích</span>
          </a>
        </li>
        <li>
          <a href="#" id="settingsLink">
            <i class="fas fa-cog"></i>
            <span class="menu-text">Cài Đặt</span>
          </a>
        </li>
        <li>
          <a href="#" id="alarmsLink">
            <i class="fas fa-bell"></i>
            <span class="menu-text">Cảnh Báo</span>
          </a>
        </li>
      </ul>

      <div class="sidebar-footer">
        <a href="#" id="helpLink"><i class="fas fa-question-circle"></i></a>
        <a href="#" id="logoutLink"><i class="fas fa-sign-out-alt"></i></a>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-3">
          <div class="card">
            <h2 style="font-size: 1.3rem">Máy Bơm</h2>
            <div class="gauge" id="gauge-oee">
              <div class="color-zones"></div>
              <div class="gauge-face">
                <div class="ticks"></div>
                <div class="labels"></div>
                <div class="needle"></div>
                <div class="center"></div>
              </div>
              <div class="value-display">50</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <h2 style="font-size: 1.3rem">Trạm Xử Lý Nước</h2>
            <div class="gauge" id="gauge-performance">
              <div class="color-zones"></div>
              <div class="gauge-face">
                <div class="ticks"></div>
                <div class="labels"></div>
                <div class="needle"></div>
                <div class="center"></div>
              </div>
              <div class="value-display">50</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <h2 style="font-size: 1.3rem">Máy Lọc</h2>
            <div class="gauge" id="gauge-quality">
              <div class="color-zones"></div>
              <div class="gauge-face">
                <div class="ticks"></div>
                <div class="labels"></div>
                <div class="needle"></div>
                <div class="center"></div>
              </div>
              <div class="value-display">50</div>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card">
            <h2 style="font-size: 1.3rem">Van xả tổng</h2>
            <div class="gauge" id="gauge-availability">
              <div class="color-zones"></div>
              <div class="gauge-face">
                <div class="ticks"></div>
                <div class="labels"></div>
                <div class="needle"></div>
                <div class="center"></div>
              </div>
              <div class="value-display">90</div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div
              class="card-header d-flex justify-content-between align-items-center"
            >
              <h2 style="font-size: 1.3rem">Product Group Health Assessment</h2>
              <div class="dropdown">
                <button
                  class="btn btn-sm btn-outline-secondary"
                  type="button"
                  id="timeRangeDropdown"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  <i class="fas fa-cog"></i>
                </button>
                <div
                  class="dropdown-menu dropdown-menu-right"
                  aria-labelledby="timeRangeDropdown"
                >
                  <a class="dropdown-item" href="#" data-time="5"
                    >Last 5 minutes</a
                  >
                  <a class="dropdown-item" href="#" data-time="10"
                    >Last 10 minutes</a
                  >
                  <a class="dropdown-item" href="#" data-time="60">Last hour</a>
                  <a class="dropdown-item" href="#" data-time="1440"
                    >Last day</a
                  >
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-3">
                  <div class="device-health-card" data-source="gauge-oee">
                    <h4>Máy Bơm</h4>
                    <div class="health-indicator">
                      <div class="health-status"></div>
                      <div class="health-value">--</div>
                    </div>
                    <div class="health-trend">
                      <canvas class="health-chart"></canvas>
                    </div>
                  </div>
                </div>

                <div class="col-md-3">
                  <div
                    class="device-health-card"
                    data-source="gauge-performance"
                  >
                    <h4>Trạm Xử Lý Nước</h4>
                    <div class="health-indicator">
                      <div class="health-status"></div>
                      <div class="health-value">--</div>
                    </div>
                    <div class="health-trend">
                      <canvas class="health-chart"></canvas>
                    </div>
                  </div>
                </div>

                <div class="col-md-3">
                  <div class="device-health-card" data-source="gauge-quality">
                    <h4>Máy Lọc</h4>
                    <div class="health-indicator">
                      <div class="health-status"></div>
                      <div class="health-value">--</div>
                    </div>
                    <div class="health-trend">
                      <canvas class="health-chart"></canvas>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div
                    class="device-health-card"
                    data-source="gauge-availability"
                  >
                    <h4>Van xả tổng</h4>
                    <div class="health-indicator">
                      <div class="health-status"></div>
                      <div class="health-value">--</div>
                    </div>
                    <div class="health-trend">
                      <canvas class="health-chart"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <h2>Factory Model</h2>
            <div class="model-container">
              <div class="chart-container">
                <canvas id="techChart"></canvas>
              </div>

              <div class="draw-menu">
                <button
                  class="btndropdown-toggle"
                  type="button"
                  data-toggle="dropdown"
                >
                  Drawing Tools
                </button>
                <div class="dropdown-menu">
                  <button class="dropdown-item" id="drawLineBtn">
                    Draw Line
                  </button>
                  <button class="dropdown-item" id="saveLinesBtn">
                    Save Lines
                  </button>
                  <button class="dropdown-item" id="selectLineBtn">
                    Select Line
                  </button>
                  <button class="dropdown-item" id="deleteSelectedBtn">
                    Delete Selected
                  </button>
                  <button class="dropdown-item" id="addSymbols">
                    Add Symbols
                  </button>
                  <button class="dropdown-item" id="selectSymbols">
                    Select Symbols
                  </button>
                  <button class="dropdown-item" id="changePosition">
                    Change Position
                  </button>
                  <button class="dropdown-item" id="clearAllLines">
                    Clear All
                  </button>
                </div>
              </div>

              <div class="symbols-container"></div>
              <div class="lines-container"></div>

              <div class="level-text" id="level-text">15000L</div>

              <div class="tank">
                <div class="ruler"></div>
                <div class="markers">
                  <div class="marker">100%</div>
                  <div class="marker">90%</div>
                  <div class="marker">80%</div>
                  <div class="marker">70%</div>
                  <div class="marker">60%</div>
                  <div class="marker">50%</div>
                  <div class="marker">40%</div>
                  <div class="marker">30%</div>
                  <div class="marker">20%</div>
                  <div class="marker">10%</div>
                  <div class="marker">0%</div>
                </div>
                <div class="water" id="water"></div>
              </div>
              <div class="tank-2">
                <div class="ruler"></div>
                <div class="markers">
                  <div class="marker">100%</div>
                  <div class="marker">90%</div>
                  <div class="marker">80%</div>
                  <div class="marker">70%</div>
                  <div class="marker">60%</div>
                  <div class="marker">50%</div>
                  <div class="marker">40%</div>
                  <div class="marker">30%</div>
                  <div class="marker">20%</div>
                  <div class="marker">10%</div>
                  <div class="marker">0%</div>
                </div>
                <div class="water" id="water2"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://www.unpkg.com/@eohjsc/era-widget@1.1.3/src/index.js"></script>
    <script src="script.js"></script>
    <div class="factoryModelContainer">
      <div class="dashboard-container">
        <h1 class="dashboard-title">
          HỆ THỐNG<br />
          GIÁM SÁT NHÀ MÁY
        </h1>
        <button id="go-back-button" class="go-back-btn">
          <i class="fas fa-arrow-left"></i> Quay Lại
        </button>
        <i id="fullscreen-button" class="fas fa-expand"></i>
        <div id="dropdown_FactoryModel" class="dropdown_FactoryModel">
          <button id="draw-button" class="menu-item">
            <span class="menu-text">Bắt đầu vẽ</span>
          </button>
          <button id="select-line-button" class="menu-item">
            <span class="menu-text">Chọn line để xóa</span>
          </button>
          <button id="clearAllFactory" class="menu-item">
            <span class="menu-text">Xóa tất cả line</span>
          </button>
        </div>
        <div class="menu-container">
          <button id="hamburger-menu" class="hamburger-menu">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>

        <svg id="drawing-area" width="100%" height="100%"></svg>
        <svg class="lines-svg" width="100%" height="100%"></svg>

        <!-- Lake Card -->
        <div class="section" id="lake-section">
          <h3>Hồ nước</h3>
          <div class="metric-group">
            <div>
              <div>Clo(ppm)</div>
              <div class="metric-value lakeClo-value">399</div>
            </div>
          </div>
        </div>

        <!-- Water Filter Card -->
        <div class="section" id="waterFilter-section">
          <h3>Khu lọc nước</h3>
          <div class="metric-group">
            <div>
              <div>PH</div>
              <div class="metric-value waterFilter-pH">388</div>
            </div>
            <div>
              <div>Độ đục(NTU)</div>
              <div class="metric-value waterFilter-doDuc">176</div>
            </div>
            <div>
              <div>Clo dư(ppm)</div>
              <div class="metric-value waterFilter-cloDu">154</div>
            </div>
          </div>
        </div>

        <!-- Office Card -->
        <div class="section" id="office-section">
          <h3>Khu R&D</h3>
          <div class="metric-group">
            <div>
              <div>Điện năng tiêu thụ (kWh)</div>
              <div class="metric-value office-powerConsump">1364</div>
            </div>
          </div>
        </div>

        <!-- Factory Card -->
        <div class="section" id="factory-section">
          <h3>Xưởng sản xuất</h3>
          <div class="metric-group">
            <div>
              <div>Nhiệt độ (℃)</div>
              <div class="metric-value factory-temperature">387</div>
            </div>
            <div>
              <div>Đô ẩm(%)</div>
              <div class="metric-value factory-humidity">387</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
